<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Ocrolus Widget</title>
  </head>
  <body>
    <h2>Ocrolus Widget Frame</h2>

    <div id="ocrolus-widget-frame" style="width: 100%; height: 600px;"></div>

    <script>
      window.getAuthToken = async function () {
        const response = await fetch('/token', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            userId: 'demoUser',
            bookName: 'demoBook',
          }),
        });
        const json = await response.json();
        return json.accessToken;
      };
    </script>

    <script id="ocrolus-initializer-script">
      (function (w, d, s, o, h, u, f, js, fjs) {
        w[o] = w[o] || function () {
          (w[o].q = w[o].q || []).push(arguments);
        };
        js = d.createElement(s);
        fjs = d.getElementsByTagName(s)[0];
        js.id = o;
        js.dataset.host = h;
        js.dataset.uuid = u;
        js.src = f;
        js.async = 1;
        fjs.parentNode.insertBefore(js, fjs);
        w[o]('init');
      })(
        window,
        document,
        'script',
        'ocrolus_script',
        'https://widget.ocrolus.com',
        '201cf4c2-204b-4458-af55-29bb2e0c89ba',
        'https://widget.ocrolus.com/static/initializer-sdk.bundle.js'
      );
    </script>
  </body>
</html>